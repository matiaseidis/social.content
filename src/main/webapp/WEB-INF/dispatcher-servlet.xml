<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:lang="http://www.springframework.org/schema/lang"
	xsi:schemaLocation="http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang-3.1.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">
	
<!-- 	<context:component-scan base-package="com.mati.demo.controller" /> -->
<context:property-placeholder location="classpath:general.properties" />
	
	<bean id="user.controller" class="com.mati.demo.controller.UserController">
		<property name="baseModel" ref="base.model"></property>
		<property name="entityName" value="user"></property>
		<property name="entityPluralName" value="users"></property>
<!-- 	no aplica	<property name="basePath" value="${user.base.path}"></property> -->
	</bean>
	
	<bean id="home.controller" class="com.mati.demo.controller.HomeController">
		<property name="baseModel" ref="base.model"></property>
	</bean>
	
<!-- 	<bean id="test.groovy.controller" class="com.mati.demo.controller.GroovyController"> -->
<!-- 	</bean> -->
	
<!-- 	<lang:groovy id="perro" refresh-check-delay="5000" script-source="classpath:groovy.Perro"></lang:groovy> -->
	
	<bean id="video.controller" class="com.mati.demo.controller.content.VideoController">
		
		<property name="baseModel" ref="base.model"></property>
		<property name="staticContentBase" value="${static.content.server.base}"></property>
		<property name="entityName" value="video"></property>
		<property name="entityPluralName" value="videos"></property>
		<property name="serverBasePath" value="${static.content.server.base}"></property>
		<property name="fileSystemBasePath" value="${static.content.file.system.base}"></property>
		<property name="basePath" value="${content.base.path}"></property>
	</bean>
	
	<bean id="post.controller" class="com.mati.demo.controller.content.PostController">
		<property name="baseModel" ref="base.model"></property>
		<property name="staticContentBase" value="${static.content.server.base}"></property>
		<property name="entityName" value="post"></property>
		<property name="entityPluralName" value="posts"></property>
		<property name="basePath" value="${content.base.path}"></property>
	</bean>
	
	
<!-- 	<mvc:default-servlet-handler/> -->
<!-- 	<context:annotation-config/>   -->
<!--   <mvc:default-servlet-handler default-servlet-name="myCustomDefaultServlet"/> -->
<!--     <bean id="multipartResolver"   -->
<!--     class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/>   -->
  
    <!-- flags annotations for processing -->  
<!--     <mvc:annotation-driven />   -->

    <!-- JSR-303 support will be detected on classpath and enabled automatically -->
<!--     <bean id="globalValidator" class="com.mati.demo.model.validator.PostValidator" /> -->
<!--     <mvc:annotation-driven  validator="globalValidator"/> -->
    
	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.InternalResourceViewResolver">

		<property name="prefix">
			<value>/WEB-INF/views/</value>
		</property>
		<property name="suffix">
			<value>.jsp</value>
		</property>
	</bean>
	
<!-- 	<bean id="unAuthenticatedUrlMapping" -->
<!--         class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"> -->
<!--     <property name="mappings"> -->
<!--       <props> -->
<!--         <prop key="/index.jsp">home.controller</prop> -->
<!--       </props> -->
<!--     </property> -->
<!--   </bean> -->
	
</beans>
